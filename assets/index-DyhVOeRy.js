var I=Object.defineProperty;var T=(s,e,t)=>e in s?I(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var p=(s,e,t)=>T(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();const v="housamz@starship:~$",E=10,S=10,j=["-","\\","|","/"],y={APP:"app",COMMAND_INPUT:"command-input",COMMAND_HISTORY:"command-history",CURSOR:"cursor",FIRST_PROMPT:"first-prompt",SPINNER:"spinner"},f={welcome:{description:"Welcome and splash screen",lines:["<em>Housamz (<em>housamz</em>.com). All rights are not reserved.</em>"," ","0000000000000000000111111111110001111111100","0000000000000000011111111111111111111111110","0000000000000000111111110000011111111100111","0000000111111001111111100000111111111001110","0001111111111111111111000001111111111111100","0111110000001111111110000011111111100000000","0111000000001111111111100011111111000000000","1110000000011111111001111111111111000000000","1100000000111111110000011111111110000111110","1100000001111111100000011111111100000011111","1110000111111111000000111111111000000011111","0111111111111110000011111111111111000111110","0011111111111000001111111111000111111111100"," ","<em>Type '<i>help</i>' to see available commands.</em>"," "],type:"welcome"},whoami:{description:"Who is Housamz?",lines:["👨‍💻 By day, I'm a Software Engineer. By night, a pos-grad lecturer. And in between? I'm probably fixing a toaster or building a robot for fun. Basically: full-time nerd, part-time superhero 🦸‍♂️🔧","🕹️ My tech story began in '98 as a starry-eyed Web Designer (weren't we all?), and by 2008 I was knee-deep in Web Dev—LEGO bricks turned to skyscrapers 🧱➡️🏙️","💼 Since then, I've dabbled in everything from biz dev to marketing, even had a go at entrepreneurship (RIP my lemonade empire 🍋💸).","🎨 My real love? Making things look so good they give Mona Lisa an identity crisis. Pixel-perfect is my love language 💖🖼️","🇮🇪 Oh, and I'm also a Peace Commissioner in Ireland—because why not fight bugs and crime? ⚖️🐛"],type:"paragraph"},skills:{description:"What can I do?",lines:["<i>My Technical Skills</i>","<i>Frontend</i> HTML, CSS, JavaScript","<i>Backend</i> Node.js, Python","<i>DevOps</i> Docker, Git","<i>Linux Administration</i>","<i>Shell Scripting</i>"],type:"list"},projects:{description:"My projects",lines:["<i>My Projects</i>","<i>Terminal Website</i> This interactive terminal-like website"],type:"list"},contact:{description:"How to reach me",lines:["<i>Contact Information</i>","<i>Universal name</i> <em>housamz</em>","<i>GitHub</i> <span>github.com/<em>housamz</em></span>","<i>Codepen</i> <span>codepen.io/<em>housamz</em></span>","<i>LinkedIn</i> <span>linkedin.com/in/<em>housamz</em></span>","<i>Twitter</i> <span>twitter.com/<em>housamz</em></span>","<i>Website</i> <span><em>housamz</em>.com</span>"],type:"list"}},b={joke:{url:"https://icanhazdadjoke.com/",headers:{Accept:"application/json"},parse:s=>s.joke,description:"Get a random joke"},geek:{url:"https://geek-jokes.sameerkumar.website/api?format=json",parse:s=>s.joke,description:"Get a random geek joke"},fact:{url:"https://uselessfacts.jsph.pl/api/v2/facts/random",parse:s=>s.text,description:"Get a random fact"},ip:{url:"https://ipapi.co/json/",parse:s=>Object.keys(s).map(e=>`<i>${e}</i> ${s[e]}`),description:"Get IP and location info"},weather:{url:"",parse:()=>[],description:"Get Weather info for location"}},k={0:{description:"Clear sky",emoji:"☀️",icon:"sun"},1:{description:"Partly cloudy",emoji:"🌤️",icon:"cloud-sun"},2:{description:"Cloudy",emoji:"☁️",icon:"cloud"},3:{description:"Overcast",emoji:"🌥️",icon:"cloud-meatball"},4:{description:"Fog",emoji:"🌫️",icon:"smog"},9:{description:"Drizzle",emoji:"🌦️",icon:"cloud-drizzle"},10:{description:"Rain",emoji:"🌧️",icon:"cloud-rain"},11:{description:"Thunderstorm",emoji:"⛈️",icon:"cloud-bolt"},13:{description:"Snow",emoji:"🌨️",icon:"cloud-snow"},14:{description:"Blowing snow",emoji:"🌬️❄️",icon:"wind-snow"},15:{description:"Hail",emoji:"🌩️🧊",icon:"cloud-hail"},17:{description:"Thunderstorm without precipitation",emoji:"🌩️",icon:"bolt"},20:{description:"Mist",emoji:"🌫️",icon:"water"},30:{description:"Duststorm",emoji:"🌪️",icon:"wind"},40:{description:"Rain showers",emoji:"🌦️",icon:"cloud-showers-heavy"},50:{description:"Drizzle, not freezing",emoji:"🌧️",icon:"cloud-drizzle"},60:{description:"Rain, not freezing",emoji:"🌧️",icon:"cloud-rain"},70:{description:"Snow",emoji:"❄️",icon:"snowflake"},80:{description:"Rain showers",emoji:"🌦️",icon:"cloud-showers-heavy"},81:{description:"Rain showers, slight",emoji:"🌧️",icon:"cloud-sun-rain"},82:{description:"Rain showers, heavy",emoji:"🌧️🌧️",icon:"cloud-showers-heavy"},85:{description:"Snow showers, slight",emoji:"🌨️",icon:"cloud-snow"},86:{description:"Snow showers, heavy",emoji:"🌨️❄️",icon:"snowflake"},95:{description:"Thunderstorm, slight or moderate",emoji:"⛈️",icon:"cloud-bolt"},96:{description:"Thunderstorm with hail",emoji:"⛈️🧊",icon:"cloud-bolt-hail"},99:{description:"Severe thunderstorm",emoji:"🌩️⚡",icon:"bolt"}};class _{static async fetchAPI(e){const t=b[e];if(!t)throw new Error("API not found");const n=await fetch(t.url,{headers:t.headers||{}});if(!n.ok)throw new Error("Failed to fetch data");const o=await n.json();return t.parse(o)}static async fetchLocation(){const e=await fetch("https://ipapi.co/json/");if(!e.ok)throw new Error("Failed to fetch location data");return e.json()}static async fetchWeather(e){const{latitude:t,longitude:n,city:o,country_name:r}=e,a=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${n}&current_weather=true`);if(!a.ok)throw new Error("Failed to fetch weather data");const u=await a.json(),c=[`Weather for ${o}, ${r}`],l=(d,m)=>{if(typeof m=="object"&&m!==null)c.push(`<i>${d}</i>`),Object.entries(m).forEach(([C,w])=>{l(C,w)});else{if(d==="weathercode"){const C=String(m),w=k[C];w?c.push(`<i>${d}</i> ${w.emoji}`):c.push(`<i>${d}</i> ${m}`);return}c.push(`<i>${d}</i> ${m}`)}};return Object.entries(u).forEach(([d,m])=>{l(d,m)}),c}}class i{static get(e){const t=document.getElementById(e);if(!t)throw new Error(`Element with id "${e}" not found`);return t}static getCommandInput(){return this.get(y.COMMAND_INPUT)}static getTerminalContent(){return this.get(y.APP)}static getCommandHistory(){return this.get(y.COMMAND_HISTORY)}static getCursor(){return this.get(y.CURSOR)}static getFirstPrompt(){return this.get(y.FIRST_PROMPT)}static createDiv(e,t){const n=document.createElement("div");return e&&(n.className=e),t&&(n.innerHTML=t),n}static createSpan(e,t,n){return`<span ${n?`class="${n}"`:""}>${e??""}</span>${t?" "+t:""}`}static scrollToBottom(){const e=this.getTerminalContent();e.scrollTop=e.scrollHeight}}class h{static show(){let e=0;const t=i.createDiv("output",`${i.createSpan("Waiting...",null,"orange")} ${i.createSpan(j[0],null,"spinner")}`);t.id=y.SPINNER,i.getCommandHistory().appendChild(t),this._interval=setInterval(()=>{e=(e+1)%j.length;const o=t.querySelector(".spinner");o&&(o.textContent=j[e])},100)}static stop(){this._interval&&(clearInterval(this._interval),this._interval=null);const e=document.getElementById(y.SPINNER);e&&e.remove()}}p(h,"_interval",null);class g{static render(e,t,n=S){if(e.length===0)return;const o=i.createDiv(`output ${t}`);if(i.getCommandHistory().appendChild(o),n===0){for(const l of e){const d=i.createDiv("",l);o.appendChild(d)}i.scrollToBottom();return}let a=0,u=0;const c=setInterval(()=>{if(a<e.length){if(u===0){const m=i.createDiv();o.appendChild(m)}const l=e[a],d=o.lastChild;u>=l.length?(a++,u=0):(d.innerHTML=l.substring(0,u+1),u++),i.scrollToBottom()}else clearInterval(c)},n)}}class M{constructor(){p(this,"_commands",[])}showWelcomeScreen(){const e=["grey","blue","purple"];g.render(f.welcome.lines.map((t,n)=>{if(n>1&&n<=14){const o=Math.floor((n-2)/5);return i.createSpan(t.replace(/0/g," ").replace(/1/g,"="),null,e[o%e.length])}else return t}),"welcome",0)}async executeCommand(e){const t=i.createDiv("",i.createSpan(v,e,"prompt")),n=i.getCommandHistory();n.appendChild(t);let o=[],r="";const a=e.toLowerCase();switch(this._commands.push(a),a){case"welcome":this.showWelcomeScreen();break;case"whoami":case"skills":case"projects":case"contact":o=f[a].lines,r=f[a].type;break;case"help":const u=[{color:"blue",title:"date",text:"Display current date"},{color:"blue",title:"clear",text:"Clear the terminal"},{color:"blue",title:"history",text:"Show command history"},{color:"orange",title:"Arrow Keys",text:"To navigate history."},{color:"orange",title:"Tab Key",text:"To complete commands."}];o=["<i>Available commands:</i>",...Object.entries(f).map(([c,l])=>`<i>${c}</i> ${l.description}`),...Object.entries(b).map(([c,l])=>i.createSpan(c,l.description,"green")),...u.map(c=>i.createSpan(c.title,c.text,c.color))],r="list";break;case"test":this._runTestCommands();return;case"history":o=this._commands;break;case"date":o=[i.createSpan(new Date().toString(),null,"orange")];break;case"clear":n.innerHTML="";return;case"joke":case"geek":case"fact":await this._handleApiCommand(a);return;case"ip":await this._handleIpCommand();return;case"weather":await this._handleWeatherCommand();return;case"":o=[];break;default:o=this._createErrorMessage(e,!0)}o.length>0&&g.render(o,r)}async _handleApiCommand(e){h.show();try{const t=await _.fetchAPI(e);h.stop();const n=Array.isArray(t)?t:[t];g.render(n,"paragraph")}catch{h.stop(),g.render(this._createErrorMessage(),"paragraph")}}async _handleIpCommand(){h.show();try{const e=await _.fetchAPI("ip");h.stop(),g.render(e,"list")}catch{h.stop(),g.render(this._createErrorMessage("location"),"paragraph")}}async _handleWeatherCommand(){h.show();try{const e=await _.fetchLocation(),t=await _.fetchWeather(e);h.stop(),g.render(t,"list")}catch{h.stop(),g.render(this._createErrorMessage("weather"),"paragraph")}}_runTestCommands(){Object.keys(f).forEach((e,t)=>{setTimeout(()=>this.executeCommand(e),t*3e3)}),Object.keys(b).forEach((e,t)=>{setTimeout(()=>this.executeCommand(e),t*3e3)})}_createErrorMessage(e,t){const n=e?t?`Command not found: ${e}. Type 'help' for available commands.`:`Error fetching ${e} data. Please try again.`:"Error fetching data. Please try again.";return[i.createSpan(n,null,"red")]}getCommands(){return[...this._commands]}getAvailableCommands(){return[...Object.keys(f),...Object.keys(b),"clear","date","history"]}}class P{constructor(){p(this,"_cursorTimeout",null)}updatePosition(){const e=i.getCommandInput(),t=i.getCursor(),n=(v.length+e.value.length)*E;t.style.left=`${n}px`}updatePositionDebounced(){this._cursorTimeout&&clearTimeout(this._cursorTimeout),this._cursorTimeout=setTimeout(()=>this.updatePosition(),10)}}class D{constructor(e,t){p(this,"_historyIndex",-1);p(this,"_commandHandler");p(this,"_cursorManager");this._commandHandler=e,this._cursorManager=t}setupEventListeners(){const e=i.getCommandInput();e.addEventListener("keydown",t=>this._handleKeyDown(t)),e.addEventListener("input",()=>this._cursorManager.updatePositionDebounced()),document.body.addEventListener("click",()=>{e.focus()})}async _handleKeyDown(e){const t=i.getCommandInput();switch(e.key){case"Enter":await this._handleEnter(e,t);break;case"ArrowUp":this._handleArrowUp(e,t);break;case"ArrowDown":this._handleArrowDown(e,t);break;case"Tab":this._handleTab(e,t);break}this._cursorManager.updatePosition()}async _handleEnter(e,t){e.preventDefault();const n=t.value.trim();await this._commandHandler.executeCommand(n),t.value="",this._historyIndex=-1}_handleArrowUp(e,t){e.preventDefault();const n=this._commandHandler.getCommands();this._historyIndex<n.length-1&&(this._historyIndex++,t.value=n[n.length-1-this._historyIndex])}_handleArrowDown(e,t){e.preventDefault();const n=this._commandHandler.getCommands();this._historyIndex>0?(this._historyIndex--,t.value=n[n.length-1-this._historyIndex]):this._historyIndex===0&&(this._historyIndex=-1,t.value="")}_handleTab(e,t){e.preventDefault();const n=t.value.toLowerCase();if(!n)return;const r=this._commandHandler.getAvailableCommands().filter(a=>a.startsWith(n));r.length===1?t.value=r[0]:r.length>1&&this._showCompletions(n,r)}_showCompletions(e,t){const n=i.getCommandHistory(),o=i.createDiv("",i.createSpan(v,e,"prompt"));n.appendChild(o);const r=i.createDiv("output",t.join("&nbsp;&nbsp;&nbsp;"));n.appendChild(r),i.scrollToBottom()}}class H{constructor(){p(this,"_commandHandler");p(this,"_cursorManager");p(this,"_keyboardHandler");this._commandHandler=new M,this._cursorManager=new P,this._keyboardHandler=new D(this._commandHandler,this._cursorManager)}initialize(){this._setupDOM(),this._commandHandler.showWelcomeScreen(),this._setupEventListeners(),this._cursorManager.updatePosition()}_setupDOM(){const e=i.getFirstPrompt();e.innerText=v}_setupEventListeners(){this._keyboardHandler.setupEventListeners()}}document.querySelector("#app").innerHTML=`
<div id="command-history"></div>
<div class="input-line">
  <span class="prompt" id="first-prompt"></span>
  <input
    class="command-input"
    id="command-input"
    type="text"
    autofocus="autofocus"
  />
  <span class="cursor" id="cursor"></span>
</div>
`;document.addEventListener("DOMContentLoaded",()=>{new H().initialize()});

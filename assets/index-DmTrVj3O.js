var k=Object.defineProperty;var M=(o,e,t)=>e in o?k(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var m=(o,e,t)=>M(o,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const b="housamz@starship:~$",P=10,H=10,v=["-","\\","|","/"],y={APP:"app",COMMAND_INPUT:"command-input",COMMAND_HISTORY:"command-history",CURSOR:"cursor",FIRST_PROMPT:"first-prompt",SPINNER:"spinner"},f={welcome:{description:"Welcome and splash screen",lines:["<em>Housamz (<em>housamz</em>.com). All rights are not reserved.</em>"," ","0000000000000000000111111111110001111111100","0000000000000000011111111111111111111111110","0000000000000000111111110000011111111100111","0000000111111001111111100000111111111001110","0001111111111111111111000001111111111111100","0111110000001111111110000011111111100000000","0111000000001111111111100011111111000000000","1110000000011111111001111111111111000000000","1100000000111111110000011111111110000111110","1100000001111111100000011111111100000011111","1110000111111111000000111111111000000011111","0111111111111110000011111111111111000111110","0011111111111000001111111111000111111111100"," ","<em>Type '<i>help</i>' to see available commands.</em>"," "],type:"welcome"},whoami:{description:"Who is Housamz?",lines:["ğŸ‘¨â€ğŸ’» By day, I'm a Software Engineer. By night, a pos-grad lecturer. And in between? I'm probably fixing a toaster or building a robot for fun. Basically: full-time nerd, part-time superhero ğŸ¦¸â€â™‚ï¸ğŸ”§","ğŸ•¹ï¸ My tech story began in '98 as a starry-eyed Web Designer (weren't we all?), and by 2008 I was knee-deep in Web Devâ€”LEGO bricks turned to skyscrapers ğŸ§±â¡ï¸ğŸ™ï¸","ğŸ’¼ Since then, I've dabbled in everything from biz dev to marketing, even had a go at entrepreneurship (RIP my lemonade empire ğŸ‹ğŸ’¸).","ğŸ¨ My real love? Making things look so good they give Mona Lisa an identity crisis. Pixel-perfect is my love language ğŸ’–ğŸ–¼ï¸","ğŸ‡®ğŸ‡ª Oh, and I'm also a Peace Commissioner in Irelandâ€”because why not fight bugs and crime? âš–ï¸ğŸ›"],type:"paragraph"},skills:{description:"What can I do?",lines:["<i>My Technical Skills</i>","<i>Frontend</i> HTML, CSS, JavaScript","<i>Backend</i> Node.js, Python","<i>DevOps</i> Docker, Git","<i>Linux Administration</i>","<i>Shell Scripting</i>"],type:"list"},projects:{description:"My projects",lines:["<i>My Projects</i>","<i>Terminal Website</i> This interactive terminal-like website"],type:"list"},contact:{description:"How to reach me",lines:["<i>Contact Information</i>","<i>Universal name</i> <em>housamz</em>","<i>GitHub</i> <span>github.com/<em>housamz</em></span>","<i>Codepen</i> <span>codepen.io/<em>housamz</em></span>","<i>LinkedIn</i> <span>linkedin.com/in/<em>housamz</em></span>","<i>Twitter</i> <span>twitter.com/<em>housamz</em></span>","<i>Website</i> <span><em>housamz</em>.com</span>"],type:"list"}},_={joke:{url:"https://icanhazdadjoke.com/",headers:{Accept:"application/json"},parse:o=>o.joke,description:"Get a random joke"},geek:{url:"https://geek-jokes.sameerkumar.website/api?format=json",parse:o=>o.joke,description:"Get a random geek joke"},fact:{url:"https://uselessfacts.jsph.pl/api/v2/facts/random",parse:o=>o.text,description:"Get a random fact"},ip:{url:"https://ipapi.co/json/",parse:o=>Object.keys(o).map(e=>`<i>${e}</i> ${o[e]}`),description:"Get IP and location info"},weather:{url:"",parse:()=>[],description:"Get Weather info for location"}};class w{static async fetchAPI(e){const t=_[e];if(!t)throw new Error("API not found");const n=await fetch(t.url,{headers:t.headers||{}});if(!n.ok)throw new Error("Failed to fetch data");const r=await n.json();return t.parse(r)}static async fetchLocation(){const e=await fetch("https://ipapi.co/json/");if(!e.ok)throw new Error("Failed to fetch location data");return e.json()}static async fetchWeather(e){const{latitude:t,longitude:n,city:r,country_name:s}=e,i=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${n}&current_weather=true`);if(!i.ok)throw new Error("Failed to fetch weather data");const p=await i.json(),c=[`Weather for ${r}, ${s}`],l=(h,u,C=0)=>{const I="  ".repeat(C);typeof u=="object"&&u!==null?(c.push(`${I}<i>${h}</i>:`),Object.entries(u).forEach(([E,T])=>{l(E,T,C+1)})):c.push(`${I}<i>${h}</i>: ${u}`)};return Object.entries(p).forEach(([h,u])=>{l(h,u)}),c}}class a{static get(e){const t=document.getElementById(e);if(!t)throw new Error(`Element with id "${e}" not found`);return t}static getCommandInput(){return this.get(y.COMMAND_INPUT)}static getTerminalContent(){return this.get(y.APP)}static getCommandHistory(){return this.get(y.COMMAND_HISTORY)}static getCursor(){return this.get(y.CURSOR)}static getFirstPrompt(){return this.get(y.FIRST_PROMPT)}static createDiv(e,t){const n=document.createElement("div");return e&&(n.className=e),t&&(n.innerHTML=t),n}static createSpan(e,t,n){return`<span ${n?`class="${n}"`:""}>${e??""}</span>${t?" "+t:""}`}static scrollToBottom(){const e=this.getTerminalContent();e.scrollTop=e.scrollHeight}}class d{static show(){let e=0;const t=a.createDiv("output",`${a.createSpan("Waiting...",null,"orange")} ${a.createSpan(v[0],null,"spinner")}`);t.id=y.SPINNER,a.getCommandHistory().appendChild(t),this._interval=setInterval(()=>{e=(e+1)%v.length;const r=t.querySelector(".spinner");r&&(r.textContent=v[e])},100)}static stop(){this._interval&&(clearInterval(this._interval),this._interval=null);const e=document.getElementById(y.SPINNER);e&&e.remove()}}m(d,"_interval",null);class g{static render(e,t,n=H){if(e.length===0)return;const r=a.createDiv(`output ${t}`);if(a.getCommandHistory().appendChild(r),n===0){for(const l of e){const h=a.createDiv("",l);r.appendChild(h)}a.scrollToBottom();return}let i=0,p=0;const c=setInterval(()=>{if(i<e.length){if(p===0){const u=a.createDiv();r.appendChild(u)}const l=e[i],h=r.lastChild;p>=l.length?(i++,p=0):(h.innerHTML=l.substring(0,p+1),p++),a.scrollToBottom()}else clearInterval(c)},n)}}class S{constructor(){m(this,"_commands",[])}showWelcomeScreen(){const e=["grey","blue","purple"];g.render(f.welcome.lines.map((t,n)=>{if(n>1&&n<=14){const r=Math.floor((n-2)/5);return a.createSpan(t.replace(/0/g," ").replace(/1/g,"="),null,e[r%e.length])}else return t}),"welcome",0)}async executeCommand(e){const t=a.createDiv("",a.createSpan(b,e,"prompt")),n=a.getCommandHistory();n.appendChild(t);let r=[],s="";const i=e.toLowerCase();switch(this._commands.push(i),i){case"welcome":this.showWelcomeScreen();break;case"whoami":case"skills":case"projects":case"contact":r=f[i].lines,s=f[i].type;break;case"help":const p=[{color:"blue",title:"date",text:"Display current date"},{color:"blue",title:"clear",text:"Clear the terminal"},{color:"blue",title:"history",text:"Show command history"},{color:"orange",title:"Arrow Keys",text:"To navigate history."},{color:"orange",title:"Tab Key",text:"To complete commands."}];r=["<i>Available commands:</i>",...Object.entries(f).map(([c,l])=>`<i>${c}</i> ${l.description}`),...Object.entries(_).map(([c,l])=>a.createSpan(c,l.description,"green")),...p.map(c=>a.createSpan(c.title,c.text,c.color))],s="list";break;case"test":this._runTestCommands();return;case"history":r=this._commands;break;case"date":r=[a.createSpan(new Date().toString(),null,"orange")];break;case"clear":n.innerHTML="";return;case"joke":case"geek":case"fact":await this._handleApiCommand(i);return;case"ip":await this._handleIpCommand();return;case"weather":await this._handleWeatherCommand();return;case"":r=[];break;default:r=this._createErrorMessage(e,!0)}r.length>0&&g.render(r,s)}async _handleApiCommand(e){d.show();try{const t=await w.fetchAPI(e);d.stop();const n=Array.isArray(t)?t:[t];g.render(n,"paragraph")}catch{d.stop(),g.render(this._createErrorMessage(),"paragraph")}}async _handleIpCommand(){d.show();try{const e=await w.fetchAPI("ip");d.stop(),g.render(e,"list")}catch{d.stop(),g.render(this._createErrorMessage("location"),"paragraph")}}async _handleWeatherCommand(){d.show();try{const e=await w.fetchLocation(),t=await w.fetchWeather(e);d.stop(),g.render(t,"list")}catch{d.stop(),g.render(this._createErrorMessage("weather"),"paragraph")}}_runTestCommands(){Object.keys(f).forEach((e,t)=>{setTimeout(()=>this.executeCommand(e),t*3e3)}),Object.keys(_).forEach((e,t)=>{setTimeout(()=>this.executeCommand(e),t*3e3)})}_createErrorMessage(e,t){const n=e?t?`Command not found: ${e}. Type 'help' for available commands.`:`Error fetching ${e} data. Please try again.`:"Error fetching data. Please try again.";return[a.createSpan(n,null,"red")]}getCommands(){return[...this._commands]}getAvailableCommands(){return[...Object.keys(f),...Object.keys(_),"clear","date","history"]}}class D{constructor(){m(this,"_cursorTimeout",null)}updatePosition(){const e=a.getCommandInput(),t=a.getCursor(),n=(b.length+e.value.length)*P;t.style.left=`${n}px`}updatePositionDebounced(){this._cursorTimeout&&clearTimeout(this._cursorTimeout),this._cursorTimeout=setTimeout(()=>this.updatePosition(),10)}}class A{constructor(e,t){m(this,"_historyIndex",-1);m(this,"_commandHandler");m(this,"_cursorManager");this._commandHandler=e,this._cursorManager=t}setupEventListeners(){const e=a.getCommandInput();e.addEventListener("keydown",t=>this._handleKeyDown(t)),e.addEventListener("input",()=>this._cursorManager.updatePositionDebounced()),document.body.addEventListener("click",()=>{e.focus()})}async _handleKeyDown(e){const t=a.getCommandInput();switch(e.key){case"Enter":await this._handleEnter(e,t);break;case"ArrowUp":this._handleArrowUp(e,t);break;case"ArrowDown":this._handleArrowDown(e,t);break;case"Tab":this._handleTab(e,t);break}this._cursorManager.updatePosition()}async _handleEnter(e,t){e.preventDefault();const n=t.value.trim();await this._commandHandler.executeCommand(n),t.value="",this._historyIndex=-1}_handleArrowUp(e,t){e.preventDefault();const n=this._commandHandler.getCommands();this._historyIndex<n.length-1&&(this._historyIndex++,t.value=n[n.length-1-this._historyIndex])}_handleArrowDown(e,t){e.preventDefault();const n=this._commandHandler.getCommands();this._historyIndex>0?(this._historyIndex--,t.value=n[n.length-1-this._historyIndex]):this._historyIndex===0&&(this._historyIndex=-1,t.value="")}_handleTab(e,t){e.preventDefault();const n=t.value.toLowerCase();if(!n)return;const s=this._commandHandler.getAvailableCommands().filter(i=>i.startsWith(n));s.length===1?t.value=s[0]:s.length>1&&this._showCompletions(n,s)}_showCompletions(e,t){const n=a.getCommandHistory(),r=a.createDiv("",a.createSpan(b,e,"prompt"));n.appendChild(r);const s=a.createDiv("output",t.join("&nbsp;&nbsp;&nbsp;"));n.appendChild(s),a.scrollToBottom()}}class O{constructor(){m(this,"_commandHandler");m(this,"_cursorManager");m(this,"_keyboardHandler");this._commandHandler=new S,this._cursorManager=new D,this._keyboardHandler=new A(this._commandHandler,this._cursorManager)}initialize(){this._setupDOM(),this._commandHandler.showWelcomeScreen(),this._setupEventListeners(),this._cursorManager.updatePosition()}_setupDOM(){const e=a.getFirstPrompt();e.innerText=b}_setupEventListeners(){this._keyboardHandler.setupEventListeners()}}document.querySelector("#app").innerHTML=`
<div id="command-history"></div>
<div class="input-line">
  <span class="prompt" id="first-prompt"></span>
  <input
    class="command-input"
    id="command-input"
    type="text"
    autofocus="autofocus"
  />
  <span class="cursor" id="cursor"></span>
</div>
`;document.addEventListener("DOMContentLoaded",()=>{new O().initialize()});
